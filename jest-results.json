{"numFailedTestSuites":1,"numFailedTests":1,"numPassedTestSuites":4,"numPassedTests":24,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":5,"numTotalTests":25,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1760386138157,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["zip composition"],"duration":157,"failureDetails":[{}],"failureMessages":["ReferenceError: mp3Path is not defined\n    at Object.mp3Path (C:\\Users\\Alumno\\Documents\\GitHub\\Aether-Sound\\tests\\zip-composition.test.js:33:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"zip composition generate composition and zip (mp3 + wav)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"generate composition and zip (mp3 + wav)"}],"endTime":1760386139229,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mzip composition › generate composition and zip (mp3 + wav)\u001b[39m\u001b[22m\n\n    ReferenceError: mp3Path is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 31 |\u001b[39m     \u001b[90m// cleanup\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 32 |\u001b[39m     fs\u001b[33m.\u001b[39munlinkSync(wav)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 33 |\u001b[39m     fs\u001b[33m.\u001b[39munlinkSync(mp3Path)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                   \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 34 |\u001b[39m     fs\u001b[33m.\u001b[39munlinkSync(zipPath)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 35 |\u001b[39m   }\u001b[33m,\u001b[39m \u001b[35m20000\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 36 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.mp3Path (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/zip-composition.test.js\u001b[39m\u001b[0m\u001b[2m:33:19)\u001b[22m\u001b[2m\u001b[22m\n","name":"C:\\Users\\Alumno\\Documents\\GitHub\\Aether-Sound\\tests\\zip-composition.test.js","startTime":1760386138228,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["API Routes","GET /api/output"],"duration":33,"failureDetails":[],"failureMessages":[],"fullName":"API Routes GET /api/output debería devolver un array vacío si el directorio está vacío","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"debería devolver un array vacío si el directorio está vacío"},{"ancestorTitles":["API Routes","GET /api/output"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"API Routes GET /api/output debería devolver solo archivos de audio","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"debería devolver solo archivos de audio"},{"ancestorTitles":["API Routes","GET /api/output"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"API Routes GET /api/output debería manejar un error si el directorio no existe","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"debería manejar un error si el directorio no existe"},{"ancestorTitles":["API Routes","POST /api/chatbot"],"duration":24,"failureDetails":[],"failureMessages":[],"fullName":"API Routes POST /api/chatbot debería devolver una respuesta del bot con un mensaje válido","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"debería devolver una respuesta del bot con un mensaje válido"},{"ancestorTitles":["API Routes","POST /api/chatbot"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"API Routes POST /api/chatbot debería devolver un error 400 si falta userMessage","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"debería devolver un error 400 si falta userMessage"},{"ancestorTitles":["API Routes","POST /api/evolve-with-ai"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"API Routes POST /api/evolve-with-ai debería devolver variaciones musicales con datos válidos","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"debería devolver variaciones musicales con datos válidos"},{"ancestorTitles":["API Routes","POST /api/identify-song"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"API Routes POST /api/identify-song debería identificar una canción de un archivo subido","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"debería identificar una canción de un archivo subido"},{"ancestorTitles":["API Routes","POST /api/identify-song"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"API Routes POST /api/identify-song debería devolver un error 400 si no se sube un archivo","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"debería devolver un error 400 si no se sube un archivo"},{"ancestorTitles":["API Routes","POST /api/generate-creative"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"API Routes POST /api/generate-creative debería generar datos de música con parámetros válidos","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"debería generar datos de música con parámetros válidos"},{"ancestorTitles":["API Routes","POST /api/generate-creative"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"API Routes POST /api/generate-creative debería devolver un error 400 si faltan parámetros","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"debería devolver un error 400 si faltan parámetros"},{"ancestorTitles":["API Routes","POST /api/album/create"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"API Routes POST /api/album/create debería crear un manifiesto de álbum con datos válidos","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"debería crear un manifiesto de álbum con datos válidos"},{"ancestorTitles":["API Routes","POST /api/album/create"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"API Routes POST /api/album/create debería devolver un error 400 si faltan pistas","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"debería devolver un error 400 si faltan pistas"},{"ancestorTitles":["API Routes","POST /api/transcribe-melody"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"API Routes POST /api/transcribe-melody debería transcribir una melodía de un archivo de audio","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"debería transcribir una melodía de un archivo de audio"}],"endTime":1760386140045,"message":"","name":"C:\\Users\\Alumno\\Documents\\GitHub\\Aether-Sound\\src\\routes\\api.test.js","startTime":1760386139238,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["generators smoke"],"duration":103,"failureDetails":[],"failureMessages":[],"fullName":"generators smoke generateRandomMelody produces a file","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"generateRandomMelody produces a file"},{"ancestorTitles":["generators smoke"],"duration":110,"failureDetails":[],"failureMessages":[],"fullName":"generators smoke generateCreativeMusic produces a file","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"generateCreativeMusic produces a file"}],"endTime":1760386140360,"message":"","name":"C:\\Users\\Alumno\\Documents\\GitHub\\Aether-Sound\\tests\\generators.test.js","startTime":1760386140052,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["audio-renderer basic"],"duration":126,"failureDetails":[],"failureMessages":[],"fullName":"audio-renderer basic writeWav and readWav roundtrip","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"writeWav and readWav roundtrip"}],"endTime":1760386140570,"message":"","name":"C:\\Users\\Alumno\\Documents\\GitHub\\Aether-Sound\\tests\\audio-renderer.test.js","startTime":1760386140365,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["src/core/api-calls.js","callGeminiAPI"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"src/core/api-calls.js callGeminiAPI debería llamar a la API de Gemini con la clave y el prompt correctos","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"debería llamar a la API de Gemini con la clave y el prompt correctos"},{"ancestorTitles":["src/core/api-calls.js","callGeminiAPI"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"src/core/api-calls.js callGeminiAPI debería manejar errores de la API de Gemini","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"debería manejar errores de la API de Gemini"},{"ancestorTitles":["src/core/api-calls.js","identifySongWithACRCloud"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"src/core/api-calls.js identifySongWithACRCloud debería lanzar un error si las credenciales de ACRCloud no están configuradas","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"debería lanzar un error si las credenciales de ACRCloud no están configuradas"},{"ancestorTitles":["src/core/api-calls.js","identifySongWithACRCloud"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"src/core/api-calls.js identifySongWithACRCloud debería hacer una llamada POST correcta a ACRCloud y devolver el resultado","invocations":1,"location":null,"numPassingAsserts":12,"retryReasons":[],"status":"passed","title":"debería hacer una llamada POST correcta a ACRCloud y devolver el resultado"},{"ancestorTitles":["src/core/api-calls.js","identifySongWithACRCloud"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"src/core/api-calls.js identifySongWithACRCloud debería devolver success: false si no se encuentra ninguna coincidencia (código 1001)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"debería devolver success: false si no se encuentra ninguna coincidencia (código 1001)"},{"ancestorTitles":["src/core/api-calls.js","identifySongWithACRCloud"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"src/core/api-calls.js identifySongWithACRCloud debería lanzar un error para otros códigos de estado de ACRCloud","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"debería lanzar un error para otros códigos de estado de ACRCloud"},{"ancestorTitles":["src/core/api-calls.js","identifySongWithACRCloud"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"src/core/api-calls.js identifySongWithACRCloud debería manejar errores de red durante la llamada a ACRCloud","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"debería manejar errores de red durante la llamada a ACRCloud"},{"ancestorTitles":["src/core/api-calls.js","transcribeAudioWithGemini"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"src/core/api-calls.js transcribeAudioWithGemini debería registrar una advertencia y devolver un resultado placeholder","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"debería registrar una advertencia y devolver un resultado placeholder"}],"endTime":1760386140670,"message":"","name":"C:\\Users\\Alumno\\Documents\\GitHub\\Aether-Sound\\api-calls.test.js","startTime":1760386140576,"status":"passed","summary":""}],"wasInterrupted":false}
